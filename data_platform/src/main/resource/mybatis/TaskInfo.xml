<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wlwx.dao.TaskInfoMapper">
	
	<select id="listTasks" resultType="com.wlwx.model.TaskInfo">
		select * from task_info
	</select>
	
	<insert id="insertTask" parameterType="com.wlwx.model.TaskInfo">
		insert into task_info(
			task_id, 
			user_id, 
			create_time, 
			priority, 
			model_id, 
			task_status, 
			task_param)
		values(
			#{task_id},
			#{user_id},
			#{create_time},
			#{priority},
			#{model_id},
			#{task_status},
			#{task_param}
			)
	</insert>
	
	<update id="update" parameterType="map">
		update task_info      
	    <set>
	        <if test="user_id != null">     
	            user_id = #{user_id},
	        </if>
	        <if test="create_time != null">     
	            create_time = #{create_time},
	        </if>
	        <if test="start_time != null">     
	            start_time = #{start_time},
	        </if>
	        <if test="end_time != null">     
	            end_time = #{end_time},
	        </if>
	        <if test="spend_time != null">     
	            spend_time = #{spend_time},
	        </if>
	        <if test="priority != null">     
	            priority = #{priority},
	        </if>
	        <if test="model_id != null">     
	            model_id = #{model_id},
	        </if>
	        <if test="task_status != null">     
	            task_status = #{task_status},
	        </if>
	        <if test="task_param != null">     
	            task_param = #{task_param},
	        </if>
	        <if test="exec_id != null">     
	            exec_id = #{exec_id},
	        </if>
	        <if test="file_path != null">     
	            file_path = #{file_path}
	        </if>
	    </set>
	    where task_id = #{task_id}
	</update>
	
</mapper>